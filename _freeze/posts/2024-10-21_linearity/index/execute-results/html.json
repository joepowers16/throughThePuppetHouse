{
  "hash": "14d45d4906e46f565998850b6a67a967",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Linearity in Logistic Regression Models\"\nauthor: \"Joseph Powers\"\ndate: \"2024-10-21\"\nimage: 'lor.png'\ncategories: [modeling, glm, logistic]\ndraft: false\nwarning: false\nmessage: false\necho: true\nfreeze: true\ncode-fold: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, glue, scales, patchwork, conflicted, gtsummary, broman)\n\nconflict_prefer(\"filter\", \"dplyr\")\n\ntheme_set(theme_bw())\n\nlogit <- function(x) 1 / (1 + exp(-x))\n\nlog_odds_to_prob <- function(log_odds) {\n  prob <- exp(log_odds) / (1 + exp(log_odds))\n  return(prob)\n}\n\nprob_to_log_odds <- function(prob) {\n  if (any(prob <= 0 | prob >= 1)) {\n    stop(\"Probabilities must be between 0 and 1 exclusively\")\n  }\n  log_odds <- log(prob / (1 - prob))\n  return(log_odds)\n}\n```\n:::\n\n\n\n# TL;DR:\nThis is a deep dive into the nature of the linearity in logistic regression models. \n\n* For binary outcomes, the relationship between your predictor and your mean outcome is approximately linear for outcomes between 20%-80%, but in the tails the relationship is certainly nonlinear. \n\n    * There will be essentially no difference between the coefficients estimated by a typical linear regression and logistic regression when outcome rates are between 20%-80%, but for more extreme probabilities the linear regression is going to start talking nonsense. \n    \n* What was cool (for me) to see in these simulations was the degree to which the logit functions transforms probability values into a straight line. Perhaps obvious in hindsight, but cool to see for the first time. \n\n* I also found it unintuitive to think about simulating a linear relationship in terms of log-odds ratios. It's easy for me to think linearly that a year of tenure will improve retention by say 1% point, but it was initially harder for me to think about and plan a simulation that states \"a year of tenure will increase retention by 2 log odds.\" It got easier to think in log odds when I embraced the assumption that my log-odds coefficient is declaring a relationship **where the terure = 0**. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nINT_LOR <- -10\nDELTA_LOR <- 2\n```\n:::\n\n\n\n* In the data that follow I am simulating data where the probability of the outcome event is very low for new customers, 0.005%, and the probability of the outcome event increases massively for customers at year 4. This pattern will not exist in most data sets, so set your simulation patterns to reflect your expected data conditions if you want to apply this code. \n\n# Simulate Binary Outcome (Contract Renewal) based on Customer Tenure\n\nWe start with binary outcomes and work backward to infer the parameters.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set seed for reproducibility\nset.seed(123)\n\n# Number of observations\nn <- 1000\n\n# Create a data frame\ndf_sim <- tibble(\n    tenure = runif(n, min = 0, max = 10),\n    # code in a linear relationship between tenure and log-odds of retaining\n    pred_lor = INT_LOR + DELTA_LOR * tenure,\n    # convert log odds to probability\n    p = logit(pred_lor),  \n    # simulate individual outcomes\n    renew = rbinom(n, size = 1, prob = p)\n)\n\n# View the first few rows of the simulated data\nhead(df_sim)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 Ã— 4\n  tenure pred_lor        p renew\n   <dbl>    <dbl>    <dbl> <int>\n1  2.88     -4.25 0.0141       0\n2  7.88      5.77 0.997        1\n3  4.09     -1.82 0.139        0\n4  8.83      7.66 1.00         1\n5  9.40      8.81 1.00         1\n6  0.456    -9.09 0.000113     0\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_sim |> \n    ggplot() + \n    geom_jitter(aes(x = tenure, y = renew, color = factor(renew)), alpha = .5, height = .05) + \n    scale_y_continuous(breaks = 0:1) + \n    labs(color = \"Outcome\", title = \"The data we start with:\") + \n    scale_color_discrete(breaks = c(1,0), labels = c(\"0\" = \"Abandon\", \"1\" = \"Renew\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_summ <- df_sim |> \n    mutate(tenure_yr = floor(tenure)) |> \n    summarise(\n        pr_complete = mean(renew),\n        .by = tenure_yr\n    ) \n\ndf_summ |> \n    ggplot(aes(x = tenure_yr, y = pr_complete)) + \n    geom_point() + \n    geom_line() + \n    scale_y_continuous(breaks = seq(0,1,.1), labels=percent) + \n    scale_x_continuous(breaks = -10:10) + \n    labs(\n        x = \"tenure (yrs)\",\n        y = \"mean renewal rate\",\n        title = \"Mean renewal rate at each year of tenure\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_summ_tenth <- df_sim |> \n    mutate(tenure_tenth = round(tenure, 1)) |> \n    summarise(\n        pr_complete = mean(renew),\n        .by = tenure_tenth\n    ) \n\ndf_summ_tenth |> \n    ggplot(aes(x = tenure_tenth, y = pr_complete)) + \n    geom_point() + \n    geom_smooth() + \n    scale_y_continuous(breaks = seq(0,1,.1), labels=percent) + \n    scale_x_continuous(breaks = seq(0,10,.1)) + \n    labs(\n        x = \"tenure bins (years)\",\n        y = \"mean renewal rate\",\n        title = str_wrap(\"Tenure and mean renewal rate are approximately linear between renewal rates of 20%-80%\", 60)) + \n    # coord_cartesian(ylim = c(.2,.8), xlim = c(3.8,6)) + \n    theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1), panel.grid = element_blank()) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPR_EX <- df_summ_tenth |> filter(tenure_tenth == 4.6) |> pull(pr_complete) |> percent()\n\ndf_summ_tenth |> \n    ggplot(aes(x = tenure_tenth, y = pr_complete)) + \n    geom_point(alpha=.5) + \n    geom_smooth(method='gam') + \n    scale_y_continuous(breaks = seq(0,1,.1), labels=percent) + \n    scale_x_continuous(breaks = seq(0,10,.5)) + \n    labs(\n        x = \"Years of Tenure\",\n        caption = glue(\"Mean renewal rates computed on tenure bins (e.g., mean renewal at 4.6 yrs of tenure = {PR_EX})\"),\n        y = \"mean renewal rate\",\n        title = str_wrap(\"Tenure and mean renewal rate have an approximately linear relationship between renewal rates of 20%-80%\", 60)) + \n    # coord_cartesian(ylim = c(.2,.8), xlim = c(3.8,6)) + \n    theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1), panel.grid.minor = element_blank()) +\n    annotate(\"rect\", xmin = 4, xmax = 6, ymin = .2, ymax = .8, \n           fill = \"red\", alpha = 0.2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\nWhat's kind of wild is that the the S-curve you see above becomes a straight line when you convert to the probability values to log-odds, but it's not as simple as converting the mean probabilities to log odds: \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_summ |> \n    mutate(\n        lor = 1 / (1 + exp(-pr_complete)),\n    ) |> \n    ggplot(aes(x = tenure_yr, y = lor)) + \n    geom_point() + \n    geom_line() + \n    labs(title = \"A misinformative plot that converts mean probabilities to log-odds\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\nLet's fit a model and find out why ...\n\n## Fitting a model\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nglm1 <- glm(renew ~ tenure, family = \"binomial\", df_sim)\n\ngtsummary::tbl_regression(glm1, intercept = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qrjikabkyq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qrjikabkyq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qrjikabkyq thead, #qrjikabkyq tbody, #qrjikabkyq tfoot, #qrjikabkyq tr, #qrjikabkyq td, #qrjikabkyq th {\n  border-style: none;\n}\n\n#qrjikabkyq p {\n  margin: 0;\n  padding: 0;\n}\n\n#qrjikabkyq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qrjikabkyq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qrjikabkyq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qrjikabkyq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qrjikabkyq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qrjikabkyq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qrjikabkyq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qrjikabkyq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qrjikabkyq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qrjikabkyq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qrjikabkyq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qrjikabkyq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qrjikabkyq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qrjikabkyq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qrjikabkyq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qrjikabkyq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qrjikabkyq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qrjikabkyq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qrjikabkyq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qrjikabkyq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qrjikabkyq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qrjikabkyq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qrjikabkyq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qrjikabkyq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qrjikabkyq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qrjikabkyq .gt_left {\n  text-align: left;\n}\n\n#qrjikabkyq .gt_center {\n  text-align: center;\n}\n\n#qrjikabkyq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qrjikabkyq .gt_font_normal {\n  font-weight: normal;\n}\n\n#qrjikabkyq .gt_font_bold {\n  font-weight: bold;\n}\n\n#qrjikabkyq .gt_font_italic {\n  font-style: italic;\n}\n\n#qrjikabkyq .gt_super {\n  font-size: 65%;\n}\n\n#qrjikabkyq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qrjikabkyq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qrjikabkyq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qrjikabkyq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qrjikabkyq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qrjikabkyq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qrjikabkyq .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;log(OR)&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>log(OR)</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-11</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-13, -9.5</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">tenure</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">2.2</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.9, 2.6</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_lor <- gtsummary::tbl_regression(glm1, intercept = TRUE) |> \n    as_tibble() |> \n    janitor::clean_names()  \n   \ndf_lor |> \n    separate(x95_percent_ci, sep = \",\", into = c(\"ci025\", \"ci975\")) |> \n    rename(term = characteristic) |> \n    mutate(\n        cum_lor = cumsum(log_or),\n        pred_prob = log_odds_to_prob(cum_lor) |> percent(accuracy = .001)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 Ã— 7\n  term        log_or ci025 ci975   p_value cum_lor pred_prob\n  <chr>       <chr>  <chr> <chr>   <chr>     <dbl> <chr>    \n1 (Intercept) -11    -13   \" -9.5\" <0.001    -11   0.002%   \n2 tenure      2.2    1.9   \" 2.6\"  <0.001     -8.8 0.015%   \n```\n\n\n:::\n:::\n\n\n\n## Fitting a centered model\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nglm_mc <-\n    glm(renew ~ tenure_mc, \n        family = \"binomial\", \n        df_sim |> mutate(tenure_mc = tenure - mean(tenure)))\n\ngtsummary::tbl_regression(glm_mc, intercept = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"fhtbarggde\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#fhtbarggde table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#fhtbarggde thead, #fhtbarggde tbody, #fhtbarggde tfoot, #fhtbarggde tr, #fhtbarggde td, #fhtbarggde th {\n  border-style: none;\n}\n\n#fhtbarggde p {\n  margin: 0;\n  padding: 0;\n}\n\n#fhtbarggde .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#fhtbarggde .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#fhtbarggde .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#fhtbarggde .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#fhtbarggde .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#fhtbarggde .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#fhtbarggde .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#fhtbarggde .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#fhtbarggde .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#fhtbarggde .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#fhtbarggde .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#fhtbarggde .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#fhtbarggde .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#fhtbarggde .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#fhtbarggde .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fhtbarggde .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#fhtbarggde .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#fhtbarggde .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#fhtbarggde .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fhtbarggde .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#fhtbarggde .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fhtbarggde .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#fhtbarggde .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fhtbarggde .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#fhtbarggde .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fhtbarggde .gt_left {\n  text-align: left;\n}\n\n#fhtbarggde .gt_center {\n  text-align: center;\n}\n\n#fhtbarggde .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#fhtbarggde .gt_font_normal {\n  font-weight: normal;\n}\n\n#fhtbarggde .gt_font_bold {\n  font-weight: bold;\n}\n\n#fhtbarggde .gt_font_italic {\n  font-style: italic;\n}\n\n#fhtbarggde .gt_super {\n  font-size: 65%;\n}\n\n#fhtbarggde .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#fhtbarggde .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#fhtbarggde .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#fhtbarggde .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#fhtbarggde .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#fhtbarggde .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#fhtbarggde .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;log(OR)&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>log(OR)</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">(Intercept)</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">0.02</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-0.27, 0.32</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">tenure_mc</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">2.2</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">1.9, 2.6</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglm_mc_lor <- \n    gtsummary::tbl_regression(glm_mc, intercept = TRUE) |> \n    as_tibble() |> \n    janitor::clean_names()  \n   \nglm_mc_lor |> \n    separate(x95_percent_ci, sep = \",\", into = c(\"ci025\", \"ci975\")) |> \n    rename(term = characteristic) |> \n    mutate(\n        cum_lor = cumsum(log_or),\n        pred_prob = log_odds_to_prob(cum_lor) |> percent(accuracy = .001)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 Ã— 7\n  term        log_or ci025 ci975   p_value cum_lor pred_prob\n  <chr>       <chr>  <chr> <chr>   <chr>     <dbl> <chr>    \n1 (Intercept) 0.02   -0.27 \" 0.32\" 0.9        0.02 50.500%  \n2 tenure_mc   2.2    1.9   \" 2.6\"  <0.001     2.22 90.203%  \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(df_sim$tenure)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.972778\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nB_int <- coef(glm1)[1]\nB_tenure <- coef(glm1)[2]\n\ndf_demo <- tibble(\n    tenure = seq(0,10,.01), \n    log_odds_renew = B_int + B_tenure * tenure,\n    prob_renew = 1 / (1 + exp(-(B_int + B_tenure * tenure))),\n) \n\np_lor <- df_demo |> \n    ggplot(aes(x = tenure, y = log_odds_renew)) + \n    geom_line()\n\np_prob <- df_demo |> \n    ggplot(aes(x = tenure, y = prob_renew)) + \n    geom_line()\n\np_lor + p_prob\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=768}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_demo |> \n    filter(between(tenure, 4, 7)) |>  \n    pivot_longer(\n        -tenure,\n        names_to = \"Outcome Type\",\n        values_to = \"value\"\n    ) |> \n    ggplot(aes(x = tenure, y = value, color = `Outcome Type`)) + \n    geom_line() + \n    scale_x_continuous(breaks = 0:10) + \n    scale_y_continuous(breaks = c(-3:5)) + \n    labs(title = str_wrap(\"Zooming in on tenure between 4-6 yrs to contrast probability and log odds values\", 65))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_new <- tibble(\n    tenure = seq(0,10,length.out=1e3),\n    pred_lor = coef(glm1)[\"(Intercept)\"] + coef(glm1)[\"tenure\"] * tenure,\n    pred_prob = logit(pred_lor)\n)\n```\n:::\n\n\n\nThe line was fit while the data were transformed to a line via logit(). \n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_new |> \n    pivot_longer(\n        -tenure,\n        names_to = \"outcome_format\",\n        values_to = 'outcome'\n    ) |> \n    ggplot() + \n    geom_line(aes(x = tenure, y = outcome, color = outcome_format)) + \n    scale_x_continuous(breaks = 0:10) + \n    scale_y_continuous(\n        breaks = c(-10, -5, 0, 1, 5, 10)\n    ) + \n    labs(color = NULL, x = \"Customer Tenure (yrs)\", y = \"Predicted Outcome\") + \n    scale_color_discrete(labels = c(\"pred_lor\" = \"Log Odds\", \n                                  \"pred_prob\" = \"Probability\")) + \n    theme(panel.grid.minor.y = element_blank())\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\nThis logit line can be transformed to probability values for easier interpretation. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_labs <- df_new |> \n    mutate(floor = floor(tenure)) |> \n    group_by(floor) |> \n    filter(tenure == min(tenure))\n\ndf_new |> \n    ggplot() + \n    geom_jitter(data = df_sim, aes(x = tenure, y = renew, color = factor(renew)), alpha = .2, height = .05, show.legend = FALSE) + \n    geom_line(aes(x = tenure, y = pred_prob)) + \n    geom_label(data=df_labs, aes(x=tenure, y=pred_prob, label=percent(pred_prob,1L))) + \n    scale_x_continuous(breaks = 0:10) + \n    labs(color = NULL, x = \"Customer Tenure (yrs)\", y = \"Pr(Renew)\") + \n    scale_color_discrete(breaks = c(1,0)) + \n    scale_y_continuous(\n        labels = percent,\n        sec.axis = \n            dup_axis(\n                breaks = c(0,1),\n                labels = c(\"Cancel (0)\", \"Renew (1)\"),\n                name = \"Observed Outcome\"\n            )\n    ) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-18-1.png){width=768}\n:::\n:::\n\n\n\n\n# Closing thoughts\n* I found that translating the expected increase in probability into its associated local log-odds change made the process more intuitive, but my imagination still broke down in the tails. On further reflection I see how (typically) I do implicitly assume that the linear relationship will taper off in the tails, and this is naturally reflected in the interpretation of log odds. Increasing log odds by 1 reflects a 23% increase in the probability of an outcome when the base rate is 50%, but that same change in log odds reflects only a 0.4% change when the base rate is 99%. \n    \n* Not all binary outcomes will not have a relationship with their predictor(s) that follows this tapering pattern. \n\n* Higher doses of an effective medicine may have a diminishing return on survival rates, and at extreme doses they will display an inverted relationship: poisoning the patient and lowering survival rates. Such a relationship is poorly modeled by a logistic regression. \n\n* In cases of popular trends, we may see increasingly strong relationships between predictor and outcome: Every 1 unit increase in market saturation may in fact return even greater increases on the likelihood of further adoption until total saturation or a monopoly is achieved at which point further growth stops suddently rather than in an extended taper. \n\n* The point of all this is to say ... assumptions have consequences, so think carefully about yours. \n    \n# Supplement\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_new |> \n    pivot_longer(\n        -tenure,\n        names_to = \"outcome_format\",\n        values_to = 'outcome'\n    ) |> \n    ggplot() + \n    geom_jitter(data = df_sim, aes(x = tenure, y = renew, color = factor(renew)), alpha = .2, height = .25) + \n    geom_line(aes(x = tenure, y = outcome, color = outcome_format)) + \n    scale_x_continuous(breaks = 0:10) + \n    labs(title = \"All the data and predictions in one plot\", color = NULL, x = \"Customer Tenure (yrs)\", y = \"Predicted Outcome\") + \n    scale_color_manual(\n        breaks = c(\"1\",\"0\",\"pred_lor\",\"pred_prob\"),\n        values = c(\n            \"pred_lor\" = \"orange\", \"pred_prob\" = 'black', '1' = 'green', '0' = 'red'\n        ),\n        labels = c(\n            \"1\"=\"Renewal\",\n            \"0\"=\"Cancellation\",\n            \"pred_lor\" = \"Log Odds (Renew)\",                           \n            \"pred_prob\" = \"Pr(Renew)\"\n            ))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}